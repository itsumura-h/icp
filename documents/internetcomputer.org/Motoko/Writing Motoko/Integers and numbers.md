---
sidebar_position: 11
---

# 整数と数値

Motokoは整数および自然数を表現するためのさまざまな型を提供し、通常の算術演算子（`+`, `-`, `*`, `/` など）および比較演算子（`==`, `!=`, `<`, `>`, `<=`, `>=`）もサポートしています。

[`Int`](../base/Int.md)型と[`Nat`](../base/Nat.md)型は無制限であり、値はメモリによって制限される以外、任意の大きさに成長できます。

[`Nat`](../base/Nat.md)型は[`Int`](../base/Int.md)型のサブタイプであるため、[`Int`](../base/Int.md)型が期待される場所では常に[`Nat`](../base/Nat.md)型の値を供給できますが、逆はできません。

Motokoは、バウンド（固定サイズ）の整数および自然数も提供しており、型のサイズ（ビット単位）はサフィックスで示されます。

したがって、[`Int8`](../base/Int8.md)、[`Int16`](../base/Int16.md)、[`Int32`](../base/Int32.md)、[`Int64`](../base/Int64.md)はそれぞれ8ビット、16ビット、32ビット、64ビットの整数型であり、[`Nat8`](../base/Nat8.md)、[`Nat16`](../base/Nat16.md)、[`Nat32`](../base/Nat32.md)、[`Nat64`](../base/Nat64.md)はそれぞれ8ビット、16ビット、32ビット、64ビットの自然数型です。

固定サイズ型の値に対する算術演算は、その結果が固定サイズ型の範囲を超えるとトラップします（オーバーフローやアンダーフローの場合など）。
例えば、`255 : Nat8 + 3`はトラップします。なぜなら258は[`Nat8`](../base/Nat8.md)型には大きすぎるからです。

通常の算術演算のラッピング版で、モジュラー演算を行うバージョンが提供されており、演算子の後ろに`%`を付けることで利用できます。例えば、`255 : Nat8 +% 3`は`2`を返します。

整数または自然数定数の型は、定数のテキストコンテキストによって決まります。負の定数はデフォルトで[`Int`](../base/Int.md)型、正の定数は[`Nat`](../base/Nat.md)型として扱われます。それ以外の場合、定数の型は型注釈を使って明示的に示すことができます。例えば、`0 : Nat8`のように記述します。

非負の定数を[`Int`](../base/Int.md)型として解釈させるには、明示的な符号を使用できます。例えば、`+1`は[`Int`](../base/Int.md)型の値になります。

便利なことに、変数や配列の要素のインプレース更新は、算術演算と代入演算子`:=`を組み合わせた合成代入演算子を使って記述できます。例えば、`x += 1`は`x := x + 1`の省略形で、加算`+`と代入を組み合わせています。

Motokoでは、数値型間の暗黙的な変換は提供されていません。代わりに、`Nat8.toNat`や`Nat8.fromNat`などのベースライブラリ関数を使って明示的に変換を行う必要があります。

数値を扱う例として、整数を使って基本的な算術演算を行う複数の公開エントリーポイント関数を持つ単一のアクターを作成する計算機プログラムの例があります。

## 整数の使用

```motoko file=../examples/Calc.mo
```

このサンプルコードでは整数（[`Int`](../base/Int.md)）データ型を使用しており、正の数または負の数を使うことができます。この計算機コードで関数を正の数のみを使用するように制限したい場合、データ型を変更して自然数（[`Nat`](../base/Nat.md)）データのみを許可することができます。

このプログラムは以下の関数呼び出しをサポートします：

-   `add`関数は入力を受け取り、加算を行います。

-   `sub`関数は入力を受け取り、減算を行います。

-   `mul`関数は入力を受け取り、乗算を行います。

-   `div`関数は入力を受け取り、除算を行います。また、ゼロで割ることを防ぐためのコードも含まれています。

-   `clearall`関数は、以前の操作の結果として保存された`cell`値をクリアし、`cell`の値をゼロにリセットします。
